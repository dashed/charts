{{ if .Values.homepage.enabled }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: homepage-config
data:
  kubernetes.yaml: |
    # mode: cluster  

  settings.yaml: |
    title: My Awesome Homepage
    background: https://images.unsplash.com/photo-1502790671504-542ad42d5189?auto=format&fit=crop&w=2560&q=80

  services.yaml: |
    - Consume Media:

        {{ if .Values.jellyfin.enabled }}
        - Jellyfin:
            icon: jellyfin.png
            href: https://{{ .Release.Name }}-jellyfin.elfhosted.com
            description: Manage Series
            widget:
              type: jellyfin
              url: http://jellyfin:8096
              key: {{"{{"}}HOMEPAGE_VAR_JELLYFIN_APIKEY{{"}}"}}
            app: jellyfin
        {{ end }} 
             

    - Manage Media:
        - My Second Service:
            href: http://localhost/
            description: Homepage is the best

    - Manage Downloads:
        - My Third Service:
            href: http://localhost/
            description: Homepage is ðŸ˜Ž

  widgets.yaml: |


    - greeting:
        text_size: 3xl
        text: ElfHosted 

    - resources:
        label: /storage/elfstorage
        disk: /storage/elfstorage

  bookmarks.yaml: |
    - Developer:
        - Github:
            - abbr: GH
              href: https://github.com/
              icon: github.png

    - Help:
        - Discord:
            - abbr: DI
              href: https://discord.elfhosted.com
              icon: discord.png
              description: Join our friendly Discord!
        - Discord:
            - abbr: DO
              href: https://elfhosted.com
              # icon: discord.png
              description: Documentation         

    - Entertainment:
        - YouTube:
            - abbr: YT
              href: https://youtube.com/
{{ end }}