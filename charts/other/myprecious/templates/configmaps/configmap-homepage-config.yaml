{{ if .Values.homepage.enabled }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: homepage-config
data:
  kubernetes.yaml: |
    mode: cluster  

  settings.yaml: |
    title: My Awesome Homepage
    background: https://images.unsplash.com/photo-1502790671504-542ad42d5189?auto=format&fit=crop&w=2560&q=80

  services.yaml: |
    - Consume Media:

        {{ if .Values.jellyfin.enabled }}
        - Jellyfin:
            icon: jellyfin.png
            href: https://{{ .Release.Name }}-jellyfin.elfhosted.com
            description: Stream Media
            widget:
              type: jellyfin
              url: http://jellyfin:8096
              key: {{`{{HOMEPAGE_VAR_JELLYFIN_KEY}}`}} 
        {{ end }} 

        {{ if or .Values.plex.enabled .Values.plexgluetun.enabled .Values.plexpia.enabled }}
        - Plex:
            icon: plex.png
            href: https://{{ .Release.Name }}-plex.elfhosted.com
            description: Stream Media
            widget:
              type: plex
              url: http://plex:32400
              key: {{`{{HOMEPAGE_VAR_PLEX_KEY}}`}} 
        {{ end }}

        {{ if .Values.emby.enabled }}
        - Emby:
            icon: emby.png
            href: https://{{ .Release.Name }}-emby.elfhosted.com
            description: Stream Media
            widget:
              type: jellyfin
              url: http://emby:8096
              key: {{`{{HOMEPAGE_VAR_EMBY_KEY}}`}} 
        {{ end }} 
        
        {{ if .Values.navidrome.enabled }}
        - Navidrome:
            icon: navidrome.png
            href: https://{{ .Release.Name }}-navidrome.elfhosted.com
            description: Stream Music
            widget:
              type: navidrome
              url: http://navidrome:4533
              user: {{`{{HOMEPAGE_VAR_NAVIDROME_USER}}`}} 
              token: {{`{{HOMEPAGE_VAR_NAVIDROME_TOKEN}}`}} 
              salt: {{`{{HOMEPAGE_VAR_NAVIDROME_SALT}}`}} 
        {{ end }}      

        {{ if .Values.calibreweb.enabled }}
        - Calibre Web:
            icon: calibreweb.png
            href: https://{{ .Release.Name }}-calibre-web.elfhosted.com
            description: Stream Music
            widget:
              type: calibreweb
              url: http://calibreweb:8083
              username: {{`{{HOMEPAGE_VAR_CALIBREWEB_USERNAME}}`}} 
              password: {{`{{HOMEPAGE_VAR_CALIBREWEB_PASSWORDN}}`}} 
        {{ end }}                 
                      

    - Manage Media:
        - My Second Service:
            href: http://localhost/
            description: Homepage is the best

    - Manage Downloads:
        - My Third Service:
            href: http://localhost/
            description: Homepage is ðŸ˜Ž

  widgets.yaml: |


    - greeting:
        text_size: 3xl
        text: ElfHosted 

    - resources:
        label: /storage/elfstorage
        disk: /storage/elfstorage

  bookmarks.yaml: |
    - Developer:
        - Github:
            - abbr: GH
              href: https://github.com/
              icon: github.png

    - Help:
        - Discord:
            - abbr: DI
              href: https://discord.elfhosted.com
              icon: discord.png
              description: Join our friendly Discord!
        - Discord:
            - abbr: DO
              href: https://elfhosted.com
              # icon: discord.png
              description: Documentation         

    - Entertainment:
        - YouTube:
            - abbr: YT
              href: https://youtube.com/
{{ end }}