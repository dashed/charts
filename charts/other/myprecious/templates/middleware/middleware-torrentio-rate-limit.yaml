{{ if .Values.torrentio.enabled }}
apiVersion: traefik.containo.us/v1alpha1
kind: Middleware
metadata:
  name: {{ .Release.Name }}-torrentio-rate-limit
spec:
  rateLimit:
    average: 1  # 1 request every ..
    period: 1s  # 
    burst: 10   # allow burst up to 10 at once
{{ end }}