{{ if or .Values.torrentio.enabled .Values.knightcrawler.enabled .Values.knightcrawlervpn.enabled }}
apiVersion: traefik.containo.us/v1alpha1
kind: Middleware
metadata:
  name: {{ .Release.Name }}-knightcrawler-rate-limit-static
spec:
  rateLimit:
    average: 10 # 1 request every ..
    period: 1s  # 
    burst: 10   # allow burst up to 10 at once
{{ end }}